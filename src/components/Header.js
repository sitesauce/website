import { Transition } from '@headlessui/react'
import { useState } from 'react'
import ClickAwayListener from 'react-click-away-listener'
import Link from 'next/link'

const nav = Object.entries({
	Pricing: '/#pricing',
	Guides: '/guides',
	Blog: '/blog',
	Open: '/open',
})

const Header = () => {
	const [open, setOpen] = useState(false)

	return (
		<>
			<div className="bg-brand-50 absolute inset-0 bottom-auto">
				<div className="relative flex items-center lg:items-start justify-between px-4 md:px-10 lg:px-0 mt-4 lg:mt-0 z-40">
					<Link href="/">
						<a className="md:bg-white md:shadow-brand md:border-r-2 md:border-b-2 md:border-brand-100 md:py-4 md:px-4" aria-label="Sitesauce logo">
							<svg className="h-8" viewBox="0 0 2022 287" xmlns="http://www.w3.org/2000/svg">
								<g fill="none" fillRule="evenodd">
									<g fillRule="nonzero" opacity=".76">
										<path fill="#6AD4DD" d="M99 .332h100.5V96.25H99z" />
										<path d="M91.808.332h8.692V96.25H0v-4.288C.06 41.347 41.142.344 91.808.332z" fill="#8ADDE4" />
										<path d="M0 94.74h100.5v95.918h-5.042C42.738 190.658 0 147.954 0 95.276v-.536z" fill="#ACE7EB" />
										<path d="M.75 190.765h100.5v95.811h-8.69c-50.705 0-91.81-41.026-91.81-91.635v-4.283.107z" fill="#CDF0F2" />
										<path fill="#ACE7EB" d="M100.5 190.658H201v95.918H100.5z" />
										<path d="M199.5 190.658H300v4.283a91.547 91.547 0 01-26.89 64.796 91.9 91.9 0 01-64.92 26.84h-8.69v-95.919z" fill="#8ADDE4" />
										<path d="M199.5 94.74h5.042c52.72 0 95.458 42.704 95.458 95.382v.536H199.5V94.74z" fill="#6AD4DD" />
										<path d="M199.5.332h8.69C258.895.332 300 41.358 300 91.967v4.283H199.5V.332z" fill="#49CBD5" />
									</g>
									<g fill="#16BDCA" fillRule="nonzero">
										<path d="M551.516 49.786a76.92 76.92 0 0130.995 47.949l-46.345 9.509a38.237 38.237 0 00-14.975-25.662 47.8 47.8 0 00-29.976-9.697c-11.145 0-20.09 2.68-26.836 8.036a24.763 24.763 0 00-10.224 20.064c0 12.5 7.603 20.206 22.81 23.117l49.057 9.857c18.856 4.072 33.562 11.608 44.118 22.608 10.555 11 15.842 25.224 15.86 42.671 0 21.983-8.292 39.44-24.877 52.368-16.585 12.93-38.5 19.394-65.748 19.394-25.19 0-46.712-5.84-64.567-17.519A66.95 66.95 0 01400 202.31l48.707-9.858c5.904 24.734 22.9 37.091 50.989 37.073 12.935 0 22.926-2.678 29.975-8.036a25.165 25.165 0 0010.574-20.733 21.166 21.166 0 00-5.985-16.072c-3.971-3.857-10.841-6.804-20.61-8.84l-48.304-9.16c-39.986-8.411-59.97-30.18-59.952-65.306a61.565 61.565 0 0123.481-50.172C444.548 38.402 465.668 32 492.235 32c23.15.071 42.91 6 59.28 17.786zM671.087 25.013a26.16 26.16 0 017.905 18.812 24.903 24.903 0 01-7.905 18.812c-11.19 9.993-28.172 9.993-39.362 0a25.14 25.14 0 01-7.715-18.812c.226-10.97 7.026-20.746 17.279-24.843 10.253-4.097 21.98-1.724 29.798 6.03zM628.801 265V94.778h45.372V265h-45.372zM848 257.358c-15.723 8.41-30.54 12.624-44.451 12.642-20.947 0-37.352-5.64-49.217-16.92-11.864-11.279-17.787-28.315-17.77-51.107v-70.53H700V94.566h36.562V43h45.125v51.565h55.705v36.879h-55.705v67.247c0 19.547 8.32 29.329 24.958 29.347a61.025 61.025 0 0028.35-8.07L848 257.358zM1030 191.626H900.547a50.328 50.328 0 0015.162 28.855 39.249 39.249 0 0027.425 10.766c19.286 0 33.365-7.518 42.239-22.556l40.253 8.56a82.012 82.012 0 01-32.364 39.27 92.85 92.85 0 01-50.074 13.46 84.24 84.24 0 01-62.017-25.302C864.391 227.757 856 206.08 856 179.649c0-26.432 8.435-48.154 25.306-65.165a84.855 84.855 0 0162.5-25.463 82.659 82.659 0 0159.788 24.521c16.692 16.293 25.494 37.19 26.406 62.688v15.396zM917.721 136.61a38.062 38.062 0 00-15.833 23.23h82.116a40.388 40.388 0 00-15-23.58 42.043 42.043 0 00-25.199-7.86 45.525 45.525 0 00-26.084 8.21zM1094.709 210.795c2.054 15.42 13.83 23.13 35.328 23.13 6.856.36 13.665-1.3 19.57-4.77 4.427-2.522 7.166-7.188 7.19-12.25 0-7.468-6.307-12.57-18.92-15.303l-34.978-7.156c-15.57-3.162-27.526-8.943-35.87-17.34-8.266-8.187-12.79-19.375-12.515-30.957-.433-15.691 6.57-30.678 18.922-40.497 12.704-10.417 29.688-15.634 50.952-15.652 19.822 0 36.464 4.655 49.925 13.964 12.767 8.383 21.609 21.495 24.544 36.396l-43.249 8.496a24.085 24.085 0 00-10.11-16.992 36.853 36.853 0 00-22.489-6.459c-8.217 0-14.164 1.644-17.84 4.932a15.25 15.25 0 00-5.406 11.739c0 7.236 5.154 11.998 15.462 14.285l40.816 8.844c14.65 3.163 25.805 9.006 33.463 17.529 7.592 8.333 11.699 19.219 11.488 30.446 0 18.369-6.802 32.43-20.408 42.186-13.605 9.756-31.85 14.634-54.736 14.634-20.345 0-37.726-4.145-52.142-12.436-14.013-7.66-23.271-21.721-24.706-37.522l45.709-9.247zM1406 265.016h-44.823v-13.4c-15.173 12.256-33.84 18.384-56.003 18.384-22.162 0-41.631-8.513-58.409-25.538-16.492-16.99-24.747-38.428-24.765-64.315-.018-25.886 8.3-47.369 24.952-64.448 16.635-17.115 36.043-25.681 58.222-25.699 22.18-.018 40.848 6.235 56.003 18.758V95.145H1406v169.87zm-59.426-48.236a48.608 48.608 0 0014.603-36.579 49.199 49.199 0 00-14.603-36.74 46.677 46.677 0 00-33.59-14.283 45.259 45.259 0 00-34.126 13.962c-8.915 9.308-13.372 21.661-13.372 37.061 0 15.4 4.457 27.709 13.372 36.927a45.605 45.605 0 0034.126 13.774 46.943 46.943 0 0033.59-14.015v-.107zM1615.92 264.877h-45.057v-15.314c-13.621 13.625-31.48 20.437-53.579 20.437-20.467 0-36.956-6.642-49.466-19.927-12.51-13.285-18.782-30.477-18.818-51.575V95h45.164v93.87c0 12.05 3.128 21.697 9.383 28.938a31.46 31.46 0 0025.082 10.916c28.227 0 42.332-19.525 42.314-58.575V95.054H1616l-.08 169.823zM1785.46 195.819l41.54 10.559a79.186 79.186 0 01-30.813 46.254c-36.46 25.821-86.045 22.555-118.8-7.826-17.591-16.775-26.387-38.321-26.387-64.637 0-26.316 8.796-47.916 26.388-64.799a89.683 89.683 0 0164.36-25.35 87.599 87.599 0 0153.286 17.177 85.755 85.755 0 0131.832 45.423l-43.23 12.247c-5.684-22.457-19.647-33.686-41.887-33.686a45.364 45.364 0 00-34.192 13.614c-8.742 9.094-13.113 20.885-13.113 35.374s4.37 26.226 13.113 35.213c8.716 8.95 20.14 13.399 34.192 13.399 21.9.036 36.47-10.952 43.711-32.962zM2021.946 191.978h-129.393a50.199 50.199 0 0015.155 28.725 39.371 39.371 0 0027.413 10.718c19.294 0 33.367-7.485 42.219-22.455l40.234 8.521a81.719 81.719 0 01-32.348 39.095 92.987 92.987 0 01-50.052 13.398 84.375 84.375 0 01-61.987-25.188c-16.791-16.774-25.187-38.317-25.187-64.63 0-26.314 8.458-47.911 25.374-64.792a84.993 84.993 0 0162.47-25.349 82.792 82.792 0 0159.762 24.33c16.684 16.22 25.482 37.023 26.394 62.407l-.054 15.22zm-112.2-54.77a37.995 37.995 0 00-15.825 23.125h82.185a40.189 40.189 0 00-14.967-23.473 42.222 42.222 0 00-25.214-7.825 45.631 45.631 0 00-26.179 8.173z" />
									</g>
								</g>
							</svg>
						</a>
					</Link>
					<div className="flex items-center z-100 relative">
						<div className="hidden lg:block shadow-brand bg-white border-l-2 border-r-2 border-b-2 border-brand-100 py-4 px-6 mr-4 space-x-6">
							{nav.map(([label, url]) => (
								<Link key={label} href={url}>
									<a className="font-brown mx-auto relative text-left uppercase text-xs text-shadow text-brand-400">{label}</a>
								</Link>
							))}
						</div>
						<div className="hidden lg:block shadow-brand-reverse bg-white border-l-2 border-b-2 border-brand-100 py-4 px-6">
							<a href="https://app.sitesauce.app/login" className="font-brown mx-auto relative pr-6 text-left uppercase text-xs text-shadow text-brand-400">
								Login
							</a>
							<a href="https://app.sitesauce.app/register" className="font-brown mx-auto relative text-left uppercase text-xs text-shadow text-brand-400">
								Get Started
							</a>
						</div>
					</div>
					<button onClick={() => setOpen(state => !state)} type="button" className="bg-brand-100 inline-flex lg:hidden items-center justify-center p-2 rounded-lg text-white shadow-brand hover:shadow-brand-hover transition duration-150 ease-in-out focus:outline-none border-2 border-brand-100 my-1 transform hover:translate-x-1 hover:translate-y-1 focus:translate-x-1 focus:translate-y-1" aria-label="Toggle Navigation">
						<svg className="h-6 w-6 text-brand-400" stroke="currentColor" fill="none" viewBox="0 0 24 24">
							<path strokeLinecap="round" strokeLinejoin="round" strokeWidth="2" d="M4 6h16M4 12h16M4 18h16" />
						</svg>
					</button>
				</div>
				<nav role="navigation" className="absolute top-0 inset-x-0 md:p-2 lg:hidden pr-2 md:ml-3 md:mr-5 z-40">
					<Transition show={open} enter="duration-150 ease-out" enterFrom="opacity-0 scale-95" enterTo="opacity-100 scale-100" leave="duration-100 ease-in" leaveFrom="opacity-100 scale-100" leaveTo="opacity-0 scale-95">
						<ClickAwayListener onClickAway={() => setOpen(false)} className="rounded-r-lg md:rounded-lg shadow-md transition transform origin-top-right">
							<div>
								<div className="rounded-lg bg-white shadow-brand overflow-hidden ">
									<div className="pl-4 pt-5 md:pl-5 px-5 md:pt-4 flex items-center justify-between">
										<div className="flex items-center">
											<svg className="w-48 h-auto text-brand-400" width="3953" height="617" viewBox="0 0 3953 617" xmlns="http://www.w3.org/2000/svg" fill="currentColor" fillRule="nonzero">
												<path d="M369.633 78.075a187.923 187.923 0 0175.616 117.13l-113.063 23.23a93.433 93.433 0 00-36.532-62.688 116.507 116.507 0 00-73.128-23.687c-27.19 0-49.014 6.543-65.468 19.63a60.518 60.518 0 00-24.943 49.012c0 30.536 18.55 49.36 55.648 56.47l119.676 24.081c46.002 9.946 81.878 28.356 107.63 55.228 25.75 26.872 38.647 61.618 38.69 104.239 0 53.7-20.229 96.343-60.688 127.927-40.46 31.583-93.925 47.375-160.397 47.375-61.453 0-113.958-14.265-157.517-42.795C32.527 546.153 4.79 500.922 0 450.667l118.825-24.081c14.403 60.419 55.866 90.606 124.39 90.563 31.555 0 55.93-6.544 73.127-19.631a61.5 61.5 0 0025.795-50.647 51.745 51.745 0 00-14.6-39.262c-9.689-9.422-26.449-16.62-50.28-21.593l-117.842-22.38c-97.548-20.546-146.3-73.724-146.256-159.532-1.385-47.612 19.861-93.07 57.285-122.56 38.233-31.279 89.757-46.918 154.57-46.918 56.477.174 104.684 14.658 144.62 43.45zM661.294 19.51a63.915 63.915 0 0119.117 45.805 60.84 60.84 0 01-19.117 45.805c-27.06 24.333-68.13 24.333-95.19 0a61.428 61.428 0 01-18.66-45.805c.548-26.71 16.993-50.514 41.788-60.49C614.027-5.15 642.386.628 661.294 19.51zM559.033 603.851v-414.47h109.724v414.47H559.033zM1092.598 585.398c-38.233 20.46-74.262 30.711-108.088 30.755-50.934 0-90.826-13.72-119.675-41.16-28.85-27.438-43.253-68.881-43.21-124.327V279.094H732.72V189.38h88.906V63.941H931.35v125.44h135.454v89.713H931.35v163.589c0 47.55 20.23 71.347 60.69 71.39a148.34 148.34 0 0068.937-19.63l31.621 90.955zM1534.705 426.128h-315.819a122.215 122.215 0 0036.99 70.147 95.937 95.937 0 0066.908 26.174c47.05 0 81.4-18.278 103.047-54.835l98.203 20.808a199.536 199.536 0 01-78.955 95.471 227.13 227.13 0 01-122.164 32.718 205.885 205.885 0 01-151.297-61.51c-40.939-41.137-61.409-93.834-61.409-158.092 0-64.258 20.58-117.065 61.737-158.42a207.39 207.39 0 01152.475-61.902 202.02 202.02 0 01145.863 59.612c40.721 39.61 62.195 90.41 64.42 152.4v37.429zm-273.919-133.75a92.525 92.525 0 00-38.626 56.47h200.332a98.148 98.148 0 00-36.596-57.322 102.82 102.82 0 00-61.475-19.107 111.334 111.334 0 00-63.635 19.958zM1693.4 471.802c4.975 37.647 33.498 56.47 85.567 56.47a84.225 84.225 0 0047.399-11.647 34.678 34.678 0 0017.414-29.904c0-18.235-15.276-30.69-45.828-37.364l-84.715-17.471c-37.71-7.721-66.669-21.834-86.877-42.337a103.361 103.361 0 01-30.311-75.578 122.406 122.406 0 0145.827-98.873c30.77-25.433 71.906-38.171 123.408-38.215 48.01 0 88.316 11.364 120.92 34.092a138.394 138.394 0 0159.445 88.862l-104.75 20.743a58.887 58.887 0 00-24.485-41.486 88.741 88.741 0 00-54.47-15.77c-19.901 0-34.304 4.013-43.208 12.04a37.356 37.356 0 00-13.094 28.66c0 17.668 12.483 29.294 37.448 34.878l98.857 21.594c35.484 7.721 62.5 21.986 81.05 42.795a107.872 107.872 0 0127.824 74.335c0 44.845-16.477 79.177-49.429 102.995-32.952 23.819-77.143 35.728-132.573 35.728-49.276 0-91.372-10.12-126.288-30.362-33.938-18.7-56.363-53.032-59.838-91.61l110.707-22.575zM2452.961 603.851h-109.724v-32.718c-37.142 29.926-82.84 44.89-137.09 44.89-54.252 0-101.913-20.788-142.983-62.361-40.372-41.486-60.58-93.835-60.624-157.046-.043-63.21 20.317-115.668 61.082-157.373 40.721-41.791 88.23-62.709 142.524-62.753 54.295-.043 99.992 15.225 137.09 45.806v-33.242h109.726v414.797zm-145.47-117.784a118.539 118.539 0 0035.746-89.32 119.978 119.978 0 00-35.746-89.712 114.4 114.4 0 00-82.228-34.877 110.931 110.931 0 00-83.537 34.092c-21.823 22.728-32.734 52.893-32.734 90.497s10.911 67.66 32.734 90.17a111.783 111.783 0 0083.537 33.634 115.056 115.056 0 0082.228-34.222v-.262zM2964.857 603.851h-109.725v-37.364c-33.17 33.242-76.663 49.862-130.478 49.862-49.843 0-89.997-16.206-120.461-48.618-30.465-32.413-45.74-74.357-45.828-125.833V189.38h109.987v229.025c0 29.403 7.616 52.938 22.848 70.605a76.55 76.55 0 0061.082 26.633c68.742 0 103.09-47.637 103.047-142.912v-183.22h109.725l-.197 414.34zM3376.194 435.223l101.41 25.782a193.357 193.357 0 01-75.223 112.942c-89.012 63.051-210.062 55.076-290.024-19.107-42.947-40.963-64.42-93.573-64.42-157.831s21.473-117 64.42-158.224a218.919 218.919 0 01157.124-61.902 213.825 213.825 0 01130.085 41.944 209.395 209.395 0 0177.71 110.914l-105.534 29.904c-13.88-54.835-47.967-82.253-102.261-82.253a110.736 110.736 0 00-83.472 33.242c-21.343 22.204-32.014 50.996-32.014 86.375s10.671 64.04 32.014 85.982c21.277 21.856 49.166 32.718 83.472 32.718 53.465.087 89.036-26.741 106.713-80.486zM3952.117 426.128H3636.3a122.607 122.607 0 0036.99 70.147 96.068 96.068 0 0066.908 26.174c47.093 0 81.442-18.278 103.047-54.835l98.202 20.808a199.536 199.536 0 01-78.955 95.471 226.868 226.868 0 01-122.163 32.718 205.885 205.885 0 01-151.297-61.51c-40.983-40.962-61.475-93.573-61.475-157.83 0-64.258 20.644-117 61.933-158.224a207.39 207.39 0 01152.475-61.902 202.021 202.021 0 01145.863 59.415c40.722 39.61 62.195 90.41 64.421 152.4l-.13 37.168zm-273.853-133.75a92.787 92.787 0 00-38.626 56.47h200.594a98.148 98.148 0 00-36.531-57.322 103.017 103.017 0 00-61.54-19.107 111.334 111.334 0 00-63.897 19.958z" />
											</svg>
										</div>
										<div className="-mr-2">
											<button onClick={() => setOpen(state => !state)} type="button" className=" inline-flex items-center justify-center p-2 rounded-md text-gray-400 hover:text-gray-500 hover:bg-gray-100 focus:outline-none focus:bg-gray-100 focus:text-gray-500 transition duration-150 ease-in-out">
												<svg className="h-6 w-6" stroke="currentColor" fill="none" viewBox="0 0 24 24">
													<path strokeLinecap="round" strokeLinejoin="round" strokeWidth="2" d="M6 18L18 6M6 6l12 12" />
												</svg>
											</button>
										</div>
									</div>
									<div className="px-2 pt-2 pb-3 space-y-1">
										{nav.map(([label, url]) => (
											<Link key={label} href={url}>
												<a onClick={() => setOpen(false)} className="block px-3 py-2 rounded-md text-base font-medium text-gray-700 hover:text-brand-900 hover:bg-brand-50 focus:outline-none focus:text-gray-900 focus:bg-gray-50 transition duration-150 ease-in-out font-ttnorms">
													{label}
												</a>
											</Link>
										))}
										<a onClick={() => setOpen(false)} href="https://app.sitesauce.app/login" className="mt-1 block px-3 py-2 rounded-md text-base font-medium text-gray-700 hover:text-brand-900 hover:bg-brand-50 focus:outline-none focus:text-gray-900 focus:bg-gray-50 transition duration-150 ease-in-out font-ttnorms">
											Login
										</a>
									</div>
									<div>
										<a onClick={() => setOpen(false)} href="https://app.sitesauce.app/register" className="block w-full px-5 py-3 text-center font-medium text-brand-400 bg-brand-50 hover:text-brand-500 focus:outline-none focus:bg-gray-100 focus:text-brand-700 transition duration-150 ease-in-out font-ttnorms">
											Get Started
										</a>
									</div>
								</div>
							</div>
						</ClickAwayListener>
					</Transition>
				</nav>
			</div>
		</>
	)
}

export default Header
